{% extends 'TriadApp/admin/admin.html' %}

{% block content %}
<div class="flex-1 p-6">
    <div class="max-w-3xl mx-auto bg-white/80 rounded-lg shadow p-6">
        <h2 class="text-2xl font-bold mb-6">Admin Profile</h2>
        
        {% if messages %}
        <div class="mb-4">
            {% for message in messages %}
            <div class="p-4 rounded-md {% if message.tags == 'success' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <form method="POST" class="space-y-6">
            {% csrf_token %}
            
            <!-- Personal Information -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">First Name*</label>
                    <input type="text" name="firstname" value="{{ admin.firstname }}" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Middle Initial</label>
                    <input type="text" name="middle_initial" value="{{ admin.middle_initial|default:'' }}" maxlength="1"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Last Name*</label>
                    <input type="text" name="lastname" value="{{ admin.lastname }}" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Age*</label>
                    <input type="number" name="age" value="{{ admin.age }}" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Birthdate*</label>
                    <input type="date" name="birthdate" value="{{ admin.birthdate|date:'Y-m-d' }}" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Contact Number*</label>
                    <input type="tel" name="contact_number" value="{{ admin.contact_number }}" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>
            </div>

            <!-- Contact Information -->
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Address*</label>
                    <textarea name="address" required rows="3"
                              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">{{ admin.address }}</textarea>
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                    <input type="email" name="email" value="{{ admin.email }}"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500">
                </div>
            </div>

            <!-- Account Information -->
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Username*</label>
                    <input type="text" value="{{ admin.username }}" disabled
                           class="w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100">
                    <p class="text-sm text-gray-500 mt-1">Username cannot be changed</p>
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Change Password</label>
                    <input type="password" name="new_password" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"
                           placeholder="Leave blank to keep current password">
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-2">Confirm New Password</label>
                    <input type="password" name="confirm_password"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"
                           placeholder="Leave blank to keep current password">
                </div>
            </div>

            <div class="flex justify-end space-x-4">
                <button type="submit"
                        class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md">
                    Save Changes
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
